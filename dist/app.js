!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=16)}({0:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},1:function(t,e){t.exports={formatTime:function(t){if("number"!=typeof t||t<0)return t;var e=parseInt(t/3600);return t%=3600,[e,parseInt(t/60),t%=60].map(function(t){return(t=t.toString())[1]?t:"0"+t}).join(":")},formatLocation:function(t,e){return"string"==typeof t&&"string"==typeof e&&(t=parseFloat(t),e=parseFloat(e)),t=t.toFixed(2),e=e.toFixed(2),{longitude:t.toString().split("."),latitude:e.toString().split(".")}}}},16:function(t,e,n){"use strict";n.r(e);n(17);App({globalData:{}})},17:function(t,e,n){"use strict";(function(t){var e=n(2),i=n(1),r=n.n(i);t.util=r.a,t.shery={SheryComponent:e.a,SheryPage:e.b,mixins:e.c}}).call(this,n(0))},2:function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"button",function(){return v}),n.d(i,"openType",function(){return y}),n.d(i,"touch",function(){return m}),n.d(i,"transition",function(){return S});var r="[object Array]",o="[object Object]",a="[object Function]";function s(t){return null===t||void 0===t}function f(t){return Object.prototype.toString.call(t)}function u(t){return!s(t)&&f(t)===o}function l(t){return!s(t)&&f(t)===r}var c={}.hasOwnProperty;var h=Behavior({methods:{classNames:function t(){for(var e=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)&&i.length){var o=t.apply(null,i);o&&e.push(o)}else if("object"===r)for(var a in i)c.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")},$emit:function(){this.triggerEvent.apply(this,arguments)},getRect:function(t,e){var n=this;return new Promise(function(i){wx.createSelectorQuery().in(n)[e?"selectAll":"select"](t).boundingClientRect(function(t){e&&Array.isArray(t)&&t.length&&i(t),!e&&t&&i(t)}).exec()})}}}),d=function(){function t(){}var e=t.prototype;return e.diff=function(t,e){var n={};return this.syncKeys(t,e),this.dodiff(t,e,"",n),console.log(n),n},e.syncKeys=function(t,e){var n=this;if(t!==e)if(u(t)&&u(e)){var i=function(i){var r=t[i];if(s(r))t[i]=null;else{var o=e[i];if(l(o)&&l(r))r.length>=o.length&&o.forEach(function(t,e){n.syncKeys(r[e],t)});else if(u(r)&&u(o))for(var a in o)n.syncKeys(r,o)}};for(var r in e)i(r)}else l(t)&&l(e)&&t.length>=e.length&&e.forEach(function(e,i){n.syncKeys(t[i],e)})},e.setResult=function(t,e,n){(function(t){return!s(t)&&f(t)===a})(n)||(t[e]=n)},e.addPrefix=function(t,e,n,i){var r="";return""!=t&&(r=t+"."),r+=e,s(n)||(r+="["+n+"]"),s(i)||(r+="."+i),r},e.dodiff=function(t,e,n,i){var r=this;if(t!==e)if(console.log(u(t)),u(t))if(!u(e)||Object.keys(t).length<Object.keys(e).length)this.setResult(i,n,t);else{var o=function(o){var a=t[o],s=e[o];if(u(a)||l(a)){if(l(a))l(s)?a.length<s.length?r.setResult(i,r.addPrefix(n,o),a):a.forEach(function(t,e){r.dodiff(t,s[e],r.addPrefix(n,o,e),i)}):r.setResult(i,r.addPrefix(n,o),a);else if(u(a))if(!u(s)||Object.keys(a).length<Object.keys(s).length)r.setResult(i,r.addPrefix(n,o),a);else for(var f in a)r.dodiff(a[f],s[f],r.addPrefix(n,o,null,f),i)}else r.setResult(i,r.addPrefix(n,o),a)};for(var a in t)o(a)}else l(t)&&l(e)?t.length<e.length?this.setResult(i,n,t):t.forEach(function(t,o){r.dodiff(t,e[o],n+"["+o+"]",i)}):this.setResult(i,n,t)},t}(),p=new(function(){function t(){this.diff=new d,this.fnMapping={}}var e=t.prototype;return e.create=function(t,e){var n=this;if(2===arguments.length){e.data&&Object.keys(e.data).length>0&&Object.assign(t.data,e.data),this.originData||(n.originData=JSON.parse(JSON.stringify(t.data)),n.globalStore=t,t.instances={},t.update=n.update.bind(this),t.push=n.push.bind(this),t.pull=n.pull.bind(this),t.add=n.add.bind(this),t.remove=n.remove.bind(this),t.originData=n.originData,t.env&&n.initCloud(t.env)),getApp().globalData&&(getApp().globalData.store=t),e.data=t.data;var i=e.onLoad;n.defineFnProp(t.data),e.onLoad=function(e){this.store=t,n.rewriteUpdate(this),t.instances[this.route]=[],t.instances[this.route].push(this),i&&i.call(this,e)},Page(e)}else{var r=t.ready,o=t.pure;t.ready=function(){o?(this.store={data:t.data||{}},this.store.originData=t.data?JSON.parse(JSON.stringify(t.data)):{},n.defineFnProp(t.data||{},this),n.rewritePureUpdate(this)):(this.page=getCurrentPages()[getCurrentPages().length-1],this.store=this.page.store,Object.assign(this.store.data,t.data),n.defineFnProp(t.data||{},this),this.setData.call(this,this.store.data),n.rewriteUpdate(this),this.store.instances[this.page.route].push(this),console.log(this)),r&&r.call(this)},Component(t)}},e.rewritePureUpdate=function(t){var e=this;t.update=function(t){var n=this.store;if(e.defineFnProp(n.data),t)for(var i in t)e.updateByPath(n.data,i,t[i]);var r=e.diff.diff(n.data,n.originData);if(""==Object.keys(r)[0]&&(r=r[""]),Object.keys(r).length>0)for(var o in this.setData(r),n.onChange&&n.onChange(r),r)e.updateByPath(n.originData,o,"object"==typeof r[o]?JSON.parse(JSON.stringify(r[o])):r[o]);return r}},e.initCloud=function(t){wx.cloud.init(),this.globalStore.db=wx.cloud.database({env:t})},e.push=function(t){var e=this;return new Promise(function(n,i){e._push(e.update(t),n)})},e._push=function(t,e){var n=this,i=this.diffToPushObj(t);Object.keys(i).forEach(function(t){var r=t.split("-"),o=n.globalStore.data[r[0]][parseInt(r[1])]._id,a=i[t];n.globalStore.methods&&n.globalStore.methods[r[0]]&&Object.keys(n.globalStore.methods[r[0]]).forEach(function(t){a.hasOwnProperty(t)&&delete a[t]}),n.globalStore.db.collection(r[0]).doc(o).update({data:a}).then(function(t){e(t)})})},e.update=function(t){if(this.defineFnProp(this.globalStore.data),t)for(var e in t)this.updateByPath(this.globalStore.data,e,t[e]);var n=this.diff.diff(this.globalStore.data,this.originData);if(""==Object.keys(n)[0]&&(n=n[""]),Object.keys(n).length>0){for(var i in this.globalStore.instances)this.globalStore.instances[i].forEach(function(t){t.setData.call(t,n)});for(var r in this.globalStore.onChange&&this.globalStore.onChange(n),n)this.updateByPath(this.originData,r,"object"==typeof n[r]?JSON.parse(JSON.stringify(n[r])):n[r])}return n},e.defineFnProp=function(t,e){var n=this;Object.keys(t).forEach(function(i){var r=t[i];"function"==typeof r&&(n.fnMapping[i]=r,Object.defineProperty(n.globalStore.data,i,{enumerable:!0,get:function(){return n.fnMapping[i].call(e||n.globalStore.data)},set:function(t){n.fnMapping[i]=t}}))})},e.rewriteUpdate=function(t){t.update=this.update},e.updateByPath=function(t,e,n){for(var i=e.replace(/]/g,"").replace(/\[/g,".").split("."),r=t,o=0,a=i.length;o<a;o++)o===a-1?r[i[o]]=n:r=r[i[o]]},e.pull=function(t,e){var n=this;return new Promise(function(i){n.globalStore.db.collection(t).where(e||{}).get().then(function(e){n.extend(e,t),i(e)})})},e.extend=function(t,e){var n=this;t.data.forEach(function(t){var i=n.globalStore.methods[e];i&&Object.keys(i).forEach(function(e){Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e].call(t)},set:function(){}})})})},e.add=function(t,e){return this.globalStore.db.collection(t).add({data:e})},e.remove=function(t,e){return this.globalStore.db.collection(t).doc(e).remove()},e.diffToPushObj=function(t){var e=this,n={};return Object.keys(t).forEach(function(i){e.diffItemToObj(i,t[i],n)}),n},e.diffToPprivateushObj=function(t){var e=this,n={};return Object.keys(t).forEach(function(i){e.diffItemToObj(i,t[i],n)}),n},e.diffItemToObj=function(t,e,n){for(var i=t.replace(/]/g,"").replace(/\[/g,".").split("."),r={},o=null,a=i.length,s=2;s<a;s++)if(3===a)r[i[s]]=e;else if(s===a-1)o[i[s]]=e;else{var f=o;o={},2===s?r[i[s]]=o:f[i[s]]=o}var u=i[0]+"-"+i[1];n[u]=Object.assign(n[u]||{},r)},t}());function g(t){var e={};!function(t,e,n){Object.keys(n).forEach(function(i){t[i]&&(e[n[i]]=t[i])})}(t,e,{data:"data",props:"properties",mixins:"behaviors",methods:"methods",beforeCreate:"created",created:"attached",mounted:"ready",relations:"relations",destroyed:"detached",classes:"externalClasses"});var n,i=t.relation;i&&(e.relations=Object.assign(e.relations||{},((n={})["../"+i.name+"/"+i.name]=i,n)));e.externalClasses=e.externalClasses||[],e.externalClasses.push("custom-class"),e.behaviors=e.behaviors||[],e.behaviors.push(h),t.field&&e.behaviors.push("wx://form-field"),e.options={multipleSlots:!0,addGlobalClass:!0},p.create(e)}function b(t,e){p.create(t,e)}var v=Behavior({properties:{id:String,appParameter:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:String,hoverStopPropagation:Boolean,hoverStartTime:{type:Number,value:20},hoverStayTime:{type:Number,value:70},lang:{type:String,value:"en"},sessionFrom:{type:String,value:""}}}),y=Behavior({properties:{openType:String},methods:{bindGetUserInfo:function(t){this.$emit("getuserinfo",t.detail)},bindContact:function(t){this.$emit("contact",t.detail)},bindGetPhoneNumber:function(t){this.$emit("getphonenumber",t.detail)},bindOpenSetting:function(t){this.$emit("opensetting",t.detail)},bindError:function(t){this.$emit("error",t.detail)}}}),m=Behavior({methods:{touchStart:function(t){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0,this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e=t.touches[0];this.deltaX=e.clientX-this.startX,this.deltaY=e.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.offsetX>this.offsetY?"horizontal":this.offsetX<this.offsetY?"vertical":""}}}),S=function(t){return Behavior({properties:{customStyle:String,show:{type:Boolean,value:t,observer:"observeShow"},duration:{type:Number,value:300}},data:{type:"",inited:!1,display:!1},attached:function(){this.data.show&&this.show()},methods:{observeShow:function(t){t?this.show():this.setData({type:"leave"})},show:function(){this.setData({inited:!0,display:!0,type:"enter"})},onAnimationEnd:function(){this.data.show||this.setData({display:!1})}}})};n.d(e,"a",function(){return g}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return i})}});